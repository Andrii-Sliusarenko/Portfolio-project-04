{"version":3,"file":"index.js","sources":["../src/js/reviews.js"],"sourcesContent":["import Swiper from 'swiper';\nimport { Navigation, Keyboard } from 'swiper/modules';\nimport axios from 'axios';\nimport iziToast from 'izitoast';\n\nconst listEl = document.querySelector('.js-reviews-box-list');\n\naxios.defaults.baseURL ='https://portfolio-js.b.goit.study/api';\n\nasync function getReviewsData() {\n  try {\n    const response = await axios.get(`/reviews`);\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      message: 'Error fetching reviews. Please try again later.',\n      position: 'topRight',\n    });\n    return;\n  }\n}\n\nasync function renderReviews() {\n  try {\n    const reviewsData = await getReviewsData();\n    if (!reviewsData || reviewsData.length === 0) {\n      listEl.innerHTML = '<li class=\"reviews-list-card\">Not Found</li>';\n      return;\n    }\n    const reviewsList = reviewsData\n      .map(\n        review => `\n          <li class=\"swiper-slide reviews-list-card\">\n            <img src=\"${review.avatar_url}\" \n                 loading=\"lazy\" \n                 alt=\"${review.author}\" \n                 class=\"reviews-card-img\" \n                 width=\"48\" height=\"48\">\n            <div class=\"reviews-card-desc\">\n              <h3 class=\"reviews-card-subtitle\">${review.author}</h3>\n              <div class=\"reviews-card-text\">${review.review}</div>\n            </div>\n          </li>\n        `\n      )\n      .join('');\n    listEl.innerHTML = reviewsList;\n  } catch (error) {\n    iziToast.error({\n      message: 'Error rendering reviews. Please try again later.',\n      position: 'topRight',\n    });\n  }\n}\n\nasync function initSwiper() {\n    await renderReviews();\n\n    new Swiper('.reviews-swiper', {\n        modules: [Navigation, Keyboard],\n        direction: 'horizontal',\n        slidesPerView: 1,\n        spaceBetween: 16,\n        navigation: {\n            nextEl: '.js-reviews-btn-next',\n            prevEl: '.js-reviews-btn-previous',\n        },\n        keyboard: {\n            enabled: true,\n            onlyInViewport: true,\n        },\n        breakpoints: {\n            320: {\n                slidesPerView: 1,\n            },\n            768: {\n                slidesPerView: 2,\n            },\n            1440: {\n                slidesPerView: 4,\n            },\n        },\n    });\n}\ninitSwiper();\n\n"],"names":["listEl","axios","getReviewsData","iziToast","renderReviews","reviewsData","reviewsList","review","initSwiper","Swiper","Navigation","Keyboard"],"mappings":"kxBAKA,MAAMA,EAAS,SAAS,cAAc,sBAAsB,EAE5DC,EAAM,SAAS,QAAS,wCAExB,eAAeC,GAAiB,CAC9B,GAAI,CAEF,OADiB,MAAMD,EAAM,IAAI,UAAU,GAC3B,IACjB,MAAe,CACdE,EAAS,MAAM,CACb,QAAS,kDACT,SAAU,UAChB,CAAK,EACD,MACD,CACH,CAEA,eAAeC,GAAgB,CAC7B,GAAI,CACF,MAAMC,EAAc,MAAMH,IAC1B,GAAI,CAACG,GAAeA,EAAY,SAAW,EAAG,CAC5CL,EAAO,UAAY,+CACnB,MACD,CACD,MAAMM,EAAcD,EACjB,IACCE,GAAU;AAAA;AAAA,wBAEMA,EAAO,UAAU;AAAA;AAAA,wBAEjBA,EAAO,MAAM;AAAA;AAAA;AAAA;AAAA,kDAIaA,EAAO,MAAM;AAAA,+CAChBA,EAAO,MAAM;AAAA;AAAA;AAAA,SAIrD,EACA,KAAK,EAAE,EACVP,EAAO,UAAYM,CACpB,MAAe,CACdH,EAAS,MAAM,CACb,QAAS,mDACT,SAAU,UAChB,CAAK,CACF,CACH,CAEA,eAAeK,GAAa,CACxB,MAAMJ,EAAa,EAEnB,IAAIK,EAAO,kBAAmB,CAC1B,QAAS,CAACC,EAAYC,CAAQ,EAC9B,UAAW,aACX,cAAe,EACf,aAAc,GACd,WAAY,CACR,OAAQ,uBACR,OAAQ,0BACX,EACD,SAAU,CACN,QAAS,GACT,eAAgB,EACnB,EACD,YAAa,CACT,IAAK,CACD,cAAe,CAClB,EACD,IAAK,CACD,cAAe,CAClB,EACD,KAAM,CACF,cAAe,CAClB,CACJ,CACT,CAAK,CACL,CACAH,EAAY"}